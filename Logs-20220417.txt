2022-04-17T13:05:13.0912662+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:05:14.3444765+02:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:05:14.3711707+02:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:05:14.3748964+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:05:14.3755765+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:05:14.3967728+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T13:05:14.4265668+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T13:05:14.4381145+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:05:14.4674678+02:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T13:05:14.6683718+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T13:05:14.7100126+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T13:05:14.9514505+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T13:05:14.9516800+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T13:05:14.9518717+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T13:05:14.9917043+02:00 8000001b-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T13:05:15.2756264+02:00 80000011-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T13:05:15.2762310+02:00 8000001b-0006-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 286.8012ms (791a596a)
2022-04-17T13:05:15.2882565+02:00 80000011-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 12.1027ms (791a596a)
2022-04-17T13:05:15.4363740+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T13:05:15.5280418+02:00 80000002-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.6129ms (791a596a)
2022-04-17T13:05:18.3355612+02:00 80000088-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 HEAD https://localhost:44304/ - - (ca22a1cb)
2022-04-17T13:05:18.4504773+02:00 80000088-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 HEAD https://localhost:44304/ - - - 404 - - 113.0761ms (791a596a)
2022-04-17T13:05:32.2987897+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T13:05:32.3081720+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:05:32.3117903+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:05:32.3429018+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:05:32.3899320+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:05:32.4902381+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:05:32.5509152+02:00 800000b4-0000-fd00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T13:05:32.5633969+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:05:32.5742865+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 226.4956ms (afa2e885)
2022-04-17T13:05:32.5743498+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:05:32.5763646+02:00 800000b4-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 277.5786ms (791a596a)
2022-04-17T13:05:34.1832959+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T13:05:34.1883789+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:05:34.1924877+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:05:34.1931546+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:05:34.2386852+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:05:34.2417958+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:05:34.2642128+02:00 80000017-0009-ff00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T13:05:34.2647121+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:05:34.2658158+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 72.5334ms (afa2e885)
2022-04-17T13:05:34.2658919+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:05:34.2663398+02:00 80000017-0009-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 83.1045ms (791a596a)
2022-04-17T13:06:52.8186046+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:06:53.2163984+02:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:06:53.2469811+02:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:06:53.2519763+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:06:53.2532195+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:06:53.2759772+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T13:06:53.3021289+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T13:06:53.3113311+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:06:53.3202755+02:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T13:06:53.6479154+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T13:06:53.6892115+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T13:06:53.8832574+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T13:06:53.8836177+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T13:06:53.8859701+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T13:06:53.9064129+02:00 80000035-000b-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T13:06:54.1194203+02:00 8000008a-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T13:06:54.1201888+02:00 80000035-000b-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 216.0321ms (791a596a)
2022-04-17T13:06:54.1318496+02:00 8000008a-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 12.0980ms (791a596a)
2022-04-17T13:06:54.2473157+02:00 8000000f-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T13:06:54.3323169+02:00 8000000f-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 84.9261ms (791a596a)
2022-04-17T13:06:59.8384808+02:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 HEAD https://localhost:44304/ - - (ca22a1cb)
2022-04-17T13:06:59.9334612+02:00 80000066-0001-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 HEAD https://localhost:44304/ - - - 404 - - 94.9521ms (791a596a)
2022-04-17T13:07:11.8001156+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 40 (ca22a1cb)
2022-04-17T13:07:11.8058651+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:07:11.8089673+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:07:11.8309265+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:07:11.8717779+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:07:11.9654550+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:07:12.0096745+02:00 80000028-0009-fe00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T13:07:12.0160538+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:07:12.0264383+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 190.7566ms (afa2e885)
2022-04-17T13:07:12.0265119+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:07:12.0281795+02:00 80000028-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 40 - 200 - application/json;+charset=utf-8 228.3250ms (791a596a)
2022-04-17T13:07:14.1980893+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 40 (ca22a1cb)
2022-04-17T13:07:14.1998017+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:07:14.2011963+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:07:14.2015700+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:07:14.2431750+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:07:14.2460163+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:07:14.2729122+02:00 80000004-0002-fc00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T13:07:14.2734880+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:07:14.2745008+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 72.8351ms (afa2e885)
2022-04-17T13:07:14.2745745+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:07:14.2751509+02:00 80000004-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 40 - 200 - application/json;+charset=utf-8 77.0761ms (791a596a)
2022-04-17T13:07:15.6823866+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 40 (ca22a1cb)
2022-04-17T13:07:15.6825650+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:07:15.6826445+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:07:15.6827554+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:07:15.6990201+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:07:15.6998152+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:07:15.7237235+02:00 8000002a-0009-fe00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T13:07:15.7240205+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:07:15.7251897+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 42.3339ms (afa2e885)
2022-04-17T13:07:15.7252661+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:07:15.7257825+02:00 8000002a-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 40 - 200 - application/json;+charset=utf-8 43.4078ms (791a596a)
2022-04-17T13:07:29.3698099+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T13:07:29.3699748+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:07:29.3700604+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:07:29.3701587+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:07:29.3826771+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:07:29.3835493+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:07:29.6398299+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([ExpiresAt], [Token], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:07:31.4122217+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:07:31.4139334+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 2043.7071ms (afa2e885)
2022-04-17T13:07:31.4139868+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:07:31.4143596+02:00 8000003a-0005-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 2044.6326ms (791a596a)
2022-04-17T13:08:05.8650280+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarytACS0hNPUMBdyN3N 3935478 (ca22a1cb)
2022-04-17T13:08:05.8658003+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:08:05.9248932+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:08:05.9305291+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:08:05.9311526+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:08:05.9337640+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:08:13.1575084+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:08:13.1686056+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:10:17.2696407+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:10:17.2714652+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\f63ac7d5-03c2-453b-9fd8-e92fc0b06fc2IMG20220402183612.jpg zostało zapisane w bazie danych (fff35868)
2022-04-17T13:10:17.2720480+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:10:17.2736633+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 131339.8148ms (afa2e885)
2022-04-17T13:10:17.2739515+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:10:17.2755103+02:00 8000008a-0004-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarytACS0hNPUMBdyN3N 3935478 - 200 - application/json;+charset=utf-8 131410.5048ms (791a596a)
2022-04-17T13:16:43.9472467+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:16:44.2568356+02:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:16:44.2806627+02:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:16:44.2835666+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:16:44.2841297+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:16:44.3010533+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T13:16:44.3264403+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T13:16:44.3341942+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:16:44.3365834+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T13:16:44.5093434+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T13:16:44.5456356+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T13:16:44.8046960+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T13:16:44.8050966+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T13:16:44.8051847+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T13:16:44.8286404+02:00 8000008c-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T13:16:45.0403247+02:00 8000008e-0004-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T13:16:45.0414537+02:00 8000008c-0004-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 214.3427ms (791a596a)
2022-04-17T13:16:45.0517928+02:00 8000008e-0004-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 11.1585ms (791a596a)
2022-04-17T13:16:45.1711293+02:00 80000011-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T13:16:45.2560334+02:00 80000011-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 84.8694ms (791a596a)
2022-04-17T13:17:47.2260058+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarysRtfudriW6UQ6mjo 4468070 (ca22a1cb)
2022-04-17T13:17:47.2577876+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:17:47.4981291+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:17:47.5050515+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:17:47.5066447+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:17:47.5308470+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:17:47.6755192+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:17:47.7871277+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:17:48.0014771+02:00 80000031-0007-fd00-b63f-84710c7967bb [ERR] Zdjęcie nie zawiera danych GPS. (b10d61ad)
2022-04-17T13:17:48.0385978+02:00 80000031-0007-fd00-b63f-84710c7967bb [WRN] Otrzymane zdjęcie nie zawiera danych GPS! Property cannot be found. (d5796a04)
2022-04-17T13:17:48.0475247+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:17:48.0628826+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 525.5931ms (afa2e885)
2022-04-17T13:17:48.0636420+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:17:48.0672353+02:00 80000031-0007-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarysRtfudriW6UQ6mjo 4468070 - 200 - application/json;+charset=utf-8 841.2879ms (791a596a)
2022-04-17T13:17:49.6345157+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryBPKmBRiiGQdRBQbF 4468070 (ca22a1cb)
2022-04-17T13:17:49.6367875+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:17:49.6377497+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:17:49.6386043+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:17:49.6387637+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:17:49.6392381+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:17:49.7386733+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:17:49.7422533+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:17:49.8570234+02:00 80000018-0002-fe00-b63f-84710c7967bb [ERR] Zdjęcie nie zawiera danych GPS. (b10d61ad)
2022-04-17T13:17:49.8855257+02:00 80000018-0002-fe00-b63f-84710c7967bb [WRN] Otrzymane zdjęcie nie zawiera danych GPS! Property cannot be found. (d5796a04)
2022-04-17T13:17:49.8869808+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:17:49.8876530+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 248.2538ms (afa2e885)
2022-04-17T13:17:49.8878162+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:17:49.8896610+02:00 80000018-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryBPKmBRiiGQdRBQbF 4468070 - 200 - application/json;+charset=utf-8 255.1437ms (791a596a)
2022-04-17T13:18:01.0149296+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryLUe0T28KbqZ7z3yK 3593885 (ca22a1cb)
2022-04-17T13:18:01.0154008+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:18:01.0215396+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:18:01.0221188+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:18:01.0222785+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:18:01.0224129+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:18:01.0851403+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:18:01.0858313+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:19:00.5540629+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:19:00.5825221+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\b23b983a-cf68-43fc-92a2-3b57a89e6188IMG20220402231042.jpg zostało zapisane w bazie danych (5a46a9d1)
2022-04-17T13:19:00.5830550+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:19:00.5834322+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 59560.9543ms (afa2e885)
2022-04-17T13:19:00.5834785+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:19:00.5842416+02:00 80000002-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryLUe0T28KbqZ7z3yK 3593885 - 200 - application/json;+charset=utf-8 59569.2777ms (791a596a)
2022-04-17T13:20:40.4487141+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:20:40.8159509+02:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:20:40.8365432+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:20:40.8396730+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:20:40.8402489+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T13:20:40.8565343+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T13:20:40.8784427+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T13:20:40.8872233+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T13:20:40.8893475+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T13:20:41.0730638+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T13:20:41.1076872+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T13:20:41.3062212+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T13:20:41.3064192+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T13:20:41.3064580+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T13:20:41.3241819+02:00 8000008e-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T13:20:41.5348257+02:00 8000008e-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 212.5339ms (791a596a)
2022-04-17T13:20:41.5478587+02:00 80000015-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T13:20:41.5559621+02:00 80000015-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 7.9714ms (791a596a)
2022-04-17T13:20:41.6765065+02:00 8000002c-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T13:20:41.7697187+02:00 8000002c-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.1453ms (791a596a)
2022-04-17T13:21:01.5377401+02:00 8000002e-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Register - - (ca22a1cb)
2022-04-17T13:21:01.5734123+02:00 8000002e-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:01.5750996+02:00 8000002e-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Register - - - 204 - - 37.3287ms (791a596a)
2022-04-17T13:21:01.9397065+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Register application/json 71 (ca22a1cb)
2022-04-17T13:21:01.9431124+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:02.0111283+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.RegisterController.RegisterUser (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:21:02.0309506+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"RegisterUser\", controller = \"Register\"}". Executing controller action with signature "Boolean RegisterUser(FotoGeoLocationWebApplication.Models.RegisterDto)" on controller "FotoGeoLocationWebApplication.Controllers.RegisterController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:21:02.0507000+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:21:02.1162422+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@__register_Login_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE ([u].[UserName] = @__register_Login_0) AND ([u].[Enabled] = CAST(1 AS bit))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T13:21:02.2641088+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Boolean), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [User] ([Enabled], [Password], [UserName])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:21:02.2925676+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Boolean"'. (605b4265)
2022-04-17T13:21:02.3016633+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.RegisterController.RegisterUser (FotoGeoLocationWebApplication)" in 266.4795ms (afa2e885)
2022-04-17T13:21:02.3017486+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.RegisterController.RegisterUser (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:21:02.3032649+02:00 8000002f-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Register application/json 71 - 200 - application/json;+charset=utf-8 363.6105ms (791a596a)
2022-04-17T13:21:02.8605682+02:00 80000030-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T13:21:02.8611767+02:00 80000030-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:02.8615383+02:00 80000030-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.9957ms (791a596a)
2022-04-17T13:21:03.2218469+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 42 (ca22a1cb)
2022-04-17T13:21:03.2220210+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:03.2222908+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:21:03.2238052+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:21:03.2647661+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:21:03.2890617+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T13:21:03.4265398+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([ExpiresAt], [Token], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:21:05.7054922+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T13:21:05.7108620+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 2486.8514ms (afa2e885)
2022-04-17T13:21:05.7109680+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:21:05.7117581+02:00 80000031-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 42 - 200 - application/json;+charset=utf-8 2489.7972ms (791a596a)
2022-04-17T13:21:31.0513594+02:00 80000032-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T13:21:31.0517084+02:00 80000032-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:31.0519367+02:00 80000032-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.6412ms (791a596a)
2022-04-17T13:21:32.1509052+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryHWLaeZooXgW6OXdJ 4917311 (ca22a1cb)
2022-04-17T13:21:32.1510962+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:32.1926547+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:21:32.1965802+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:21:32.1972037+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:21:32.1995215+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:21:41.5844082+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:21:41.5923164+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:21:55.9748006+02:00 80000008-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T13:21:55.9750757+02:00 80000008-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:55.9758735+02:00 80000008-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.8257ms (791a596a)
2022-04-17T13:21:55.9955787+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:21:55.9986816+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\b151d7de-2c7d-4cd4-90b3-006e0b9eba05IMG20220402184802.jpg zostało zapisane w bazie danych (3eb52fa9)
2022-04-17T13:21:56.0002526+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:21:56.0022734+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 23802.6645ms (afa2e885)
2022-04-17T13:21:56.0026720+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:21:56.0052605+02:00 80000033-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryHWLaeZooXgW6OXdJ 4917311 - 200 - application/json;+charset=utf-8 23854.2078ms (791a596a)
2022-04-17T13:21:56.5201346+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryAJhUffsR3cAJpJGW 5144643 (ca22a1cb)
2022-04-17T13:21:56.5202659+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:21:56.5205059+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:21:56.5207991+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:21:56.5208402+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:21:56.5209850+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:22:07.1597258+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:22:07.1624305+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:22:08.9605129+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:22:08.9616730+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\77cdc657-5691-40b5-8723-e09ecd6069fdIMG20220402162426.jpg zostało zapisane w bazie danych (f76a58f3)
2022-04-17T13:22:08.9618740+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:22:08.9622547+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 12441.2145ms (afa2e885)
2022-04-17T13:22:08.9623032+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:22:08.9633489+02:00 80000009-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryAJhUffsR3cAJpJGW 5144643 - 200 - application/json;+charset=utf-8 12443.1766ms (791a596a)
2022-04-17T13:22:23.1440652+02:00 80000034-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T13:22:23.1441639+02:00 80000034-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:22:23.1443651+02:00 80000034-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.3141ms (791a596a)
2022-04-17T13:22:23.5117154+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundary4FaS3sEB9Ae5b83M 4686805 (ca22a1cb)
2022-04-17T13:22:23.5118797+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:22:23.5121146+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:22:23.5126593+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:22:23.5127908+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:22:23.5128875+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:22:35.7101449+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:22:35.7107745+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:22:35.9357722+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T13:22:35.9387816+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\56fe49f5-e45a-4f90-98f8-36fa1e85c022IMG20220402162953.jpg zostało zapisane w bazie danych (1fd26870)
2022-04-17T13:22:35.9390051+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T13:22:35.9394027+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 12426.4347ms (afa2e885)
2022-04-17T13:22:35.9394584+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:22:35.9409517+02:00 8000000a-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundary4FaS3sEB9Ae5b83M 4686805 - 200 - application/json;+charset=utf-8 12429.2009ms (791a596a)
2022-04-17T13:22:41.7988161+02:00 8000000b-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T13:22:41.7989714+02:00 8000000b-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:22:41.7993685+02:00 8000000b-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.5143ms (791a596a)
2022-04-17T13:22:42.1594881+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T13:22:42.1599265+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T13:22:42.1603004+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T13:22:42.1604321+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T13:22:42.1604740+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T13:22:42.1615974+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T13:22:47.2600342+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T13:22:47.2609957+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETUTCDATE())" (0723d8ff)
2022-04-17T13:22:47.2798958+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__session_UserId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__session_UserId_0" (0723d8ff)
2022-04-17T13:22:51.6203406+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T13:22:51.6267489+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 9465.0809ms (afa2e885)
2022-04-17T13:22:51.6268296+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T13:22:51.6276281+02:00 8000000c-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 9468.1251ms (791a596a)
2022-04-17T15:23:47.6445026+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:23:48.0701672+02:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:23:48.0930316+02:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:23:48.0979746+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:23:48.0988263+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:23:48.1189056+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:23:48.1440618+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:23:48.1628498+02:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:23:48.1764225+02:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:23:48.3842444+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:23:48.4278612+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:23:48.6651372+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:23:48.6654801+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:23:48.6655356+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:23:48.7082690+02:00 80000024-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:23:48.9513391+02:00 80000039-000b-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:23:48.9520097+02:00 80000024-0006-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 246.3926ms (791a596a)
2022-04-17T15:23:48.9729919+02:00 80000039-000b-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 21.0311ms (791a596a)
2022-04-17T15:23:49.0938055+02:00 8000001d-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:23:49.2050975+02:00 8000001d-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.4528ms (791a596a)
2022-04-17T15:25:05.4446024+02:00 8000001f-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:25:05.4807787+02:00 8000001f-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:25:05.4825878+02:00 8000001f-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 37.9425ms (791a596a)
2022-04-17T15:25:05.8503461+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 42 (ca22a1cb)
2022-04-17T15:25:05.8521567+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:25:05.9243056+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:25:05.9468254+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:25:16.4642957+02:00 80000010-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:25:16.5001873+02:00 80000010-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:25:20.4863707+02:00 80000010-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 4021.8213ms (791a596a)
2022-04-17T15:25:21.1322718+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:25:21.1435681+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:25:21.1756896+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:25:21.1887646+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:25:24.9043932+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:25:25.0991720+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:25:25.1761677+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("20"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:25:25.1761677+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("16"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:25:55.3085461+02:00 80000020-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:25:55.3100109+02:00 80000011-0002-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:28:49.4150614+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:28:49.7650729+02:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:28:49.7883457+02:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:28:49.7909989+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:28:49.7914877+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:28:49.8087680+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:28:49.8315890+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:28:49.8394161+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:28:49.8484605+02:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:28:50.0393037+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:28:50.0733619+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:28:50.2785896+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:28:50.2828076+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:28:50.2829130+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:28:50.3071044+02:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:28:50.5250849+02:00 80000043-0008-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:28:50.5255438+02:00 8000006c-0001-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 219.3844ms (791a596a)
2022-04-17T15:28:50.5442897+02:00 80000043-0008-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 19.0489ms (791a596a)
2022-04-17T15:28:50.7286419+02:00 8000000a-0007-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:28:50.9338996+02:00 8000000a-0007-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.1971ms (791a596a)
2022-04-17T15:29:15.1848083+02:00 80000002-000b-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:29:15.2204201+02:00 80000002-000b-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:29:15.2223878+02:00 80000002-000b-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 37.4686ms (791a596a)
2022-04-17T15:29:16.0276369+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:29:16.0303854+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:29:16.0865355+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:29:16.1083227+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:29:19.1435004+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:29:19.4938737+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:29:19.5090369+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:29:19.5128193+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:29:24.5062454+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:29:24.5062451+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:29:24.6054358+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:29:24.6059576+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("19"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:29:33.1766544+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:29:33.1766545+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:29:41.5474664+02:00 8000003a-0009-fe00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T15:29:41.5474662+02:00 80000003-000b-fc00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T15:29:41.5575738+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:29:41.5575767+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:29:41.5728906+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 22055.0266ms (afa2e885)
2022-04-17T15:29:41.5729024+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 25459.2981ms (afa2e885)
2022-04-17T15:29:41.5730165+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:29:41.5730118+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:29:41.5761542+02:00 8000003a-0009-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 22432.8353ms (791a596a)
2022-04-17T15:29:41.5761544+02:00 80000003-000b-fc00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 25548.5277ms (791a596a)
2022-04-17T15:31:56.4054879+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:31:56.9792789+02:00  [INF] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:31:57.0091456+02:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:31:57.0124880+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:31:57.0131150+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:31:57.0330903+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:31:57.0533842+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:31:57.0622477+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:31:57.0724451+02:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:31:57.2580839+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:31:57.2930893+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:31:57.5000454+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:31:57.5003530+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:31:57.5025689+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:31:57.5236233+02:00 80000004-000b-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:31:57.7408902+02:00 80000007-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:31:57.7424465+02:00 80000004-000b-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 220.8585ms (791a596a)
2022-04-17T15:31:57.7532148+02:00 80000007-0006-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 11.4752ms (791a596a)
2022-04-17T15:31:57.8770587+02:00 80000094-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:31:57.9776413+02:00 80000094-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.5465ms (791a596a)
2022-04-17T15:32:09.7992080+02:00 80000017-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:32:09.8332645+02:00 80000017-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:32:09.8356884+02:00 80000017-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 36.4166ms (791a596a)
2022-04-17T15:32:10.2018107+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:32:10.2045911+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:32:10.2651839+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:32:10.2836990+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:32:17.8297403+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:32:17.9359055+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("17"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:32:22.8440498+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:32:33.8748377+02:00 80000018-0003-ff00-b63f-84710c7967bb [ERR] Błąd logowania!  (627c5f3c)
2022-04-17T15:32:33.8808815+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:32:33.8919168+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 23603.8133ms (afa2e885)
2022-04-17T15:32:33.8919834+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:32:33.8934589+02:00 80000018-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 23691.6776ms (791a596a)
2022-04-17T15:32:43.7310775+02:00 80000019-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:32:43.7316038+02:00 80000019-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:32:43.7319724+02:00 80000019-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.8883ms (791a596a)
2022-04-17T15:32:44.0923502+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:32:44.0951107+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:32:44.0992013+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:32:44.0996071+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:32:47.5646346+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:32:47.5680129+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:32:49.2336752+02:00 8000001a-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:34:07.4897212+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:34:07.8053101+02:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:34:07.8321928+02:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:34:07.8357219+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:34:07.8361222+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:34:07.8527260+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:34:07.9144905+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:34:07.9392778+02:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:34:07.9683733+02:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:34:08.2236318+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:34:08.2620977+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:34:08.8142650+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:34:08.8145759+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:34:08.8146125+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:34:08.8383373+02:00 80000049-0008-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:34:09.0555405+02:00 80000009-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:34:09.0564244+02:00 80000049-0008-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 219.5752ms (791a596a)
2022-04-17T15:34:09.0692087+02:00 80000009-0006-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 13.3282ms (791a596a)
2022-04-17T15:34:09.1933867+02:00 80000092-0008-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:34:09.2790665+02:00 80000092-0008-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.7394ms (791a596a)
2022-04-17T15:34:18.6164906+02:00 80000026-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:34:18.6738950+02:00 80000026-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:34:18.6771841+02:00 80000026-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 60.6178ms (791a596a)
2022-04-17T15:34:19.0421517+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:34:19.0463838+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:34:19.1091288+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:34:19.1291378+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:34:23.6308708+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:34:23.7281949+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("19"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:34:27.1310653+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:34:48.1827092+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Sessions] ([ExpiresAt], [Token], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Sessions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T15:34:51.6832483+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:34:53.0670012+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 33932.103ms (afa2e885)
2022-04-17T15:34:53.0671012+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:34:53.0689287+02:00 80000027-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 34026.8357ms (791a596a)
2022-04-17T15:34:59.8166831+02:00 80000028-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:34:59.8171113+02:00 80000028-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:34:59.8174888+02:00 80000028-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.8579ms (791a596a)
2022-04-17T15:35:00.1782343+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:35:00.1784321+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:35:00.1787960+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:35:00.1790290+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:35:03.3929251+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:35:03.3967653+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:35:12.7103229+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:36:12.6321061+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:36:18.4691695+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:36:20.0902153+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 79911.082ms (afa2e885)
2022-04-17T15:36:20.0902747+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:36:20.0906753+02:00 80000029-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 79912.4498ms (791a596a)
2022-04-17T15:36:48.1338873+02:00 8000002a-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:36:48.1363477+02:00 8000002a-0009-fd00-b63f-84710c7967bb [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2022-04-17T15:36:48.1364759+02:00 8000002a-0009-fd00-b63f-84710c7967bb [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2022-04-17T15:36:48.1384940+02:00 8000002a-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/api/Login - - - 405 - - 4.5304ms (791a596a)
2022-04-17T15:36:51.3580332+02:00 8000002b-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:36:51.3581510+02:00 8000002b-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:36:51.3583775+02:00 8000002b-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.3638ms (791a596a)
2022-04-17T15:36:51.7161904+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:36:51.7163702+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:36:51.7164486+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:36:51.7166341+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:36:53.5800362+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:36:53.5818382+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:36:53.5831365+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:36:54.9679996+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:36:55.8446535+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:36:55.8453052+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 4128.5763ms (afa2e885)
2022-04-17T15:36:55.8453728+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:36:55.8464605+02:00 8000002c-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 4130.1556ms (791a596a)
2022-04-17T15:37:05.6088638+02:00 8000002d-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:37:05.6089757+02:00 8000002d-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:37:05.6092694+02:00 8000002d-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.3644ms (791a596a)
2022-04-17T15:37:05.9687680+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:37:05.9689035+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:37:05.9689746+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:37:05.9690768+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:37:07.3358512+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:37:07.3369231+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:37:07.3381063+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:37:08.2620699+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:37:09.1105208+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:37:09.1115459+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 3142.3824ms (afa2e885)
2022-04-17T15:37:09.1116321+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:37:09.1120803+02:00 8000002e-0009-fd00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 3143.2921ms (791a596a)
2022-04-17T15:41:02.3806332+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:41:02.7534486+02:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:41:02.7783560+02:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:41:02.7820451+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:41:02.7829164+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:41:02.8091274+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:41:02.8295102+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:41:02.8362050+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:41:02.8467008+02:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:41:03.0355444+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:41:03.0668501+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:41:03.2678697+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:41:03.2682691+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:41:03.2683398+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:41:03.2882526+02:00 8000000d-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:41:03.5184689+02:00 80000015-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:41:03.5200657+02:00 8000000d-0006-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 233.4017ms (791a596a)
2022-04-17T15:41:03.5402773+02:00 80000015-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 21.1539ms (791a596a)
2022-04-17T15:41:03.6516434+02:00 80000017-0002-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:41:03.7497818+02:00 80000017-0002-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.0824ms (791a596a)
2022-04-17T15:41:27.0666908+02:00 80000096-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:41:27.0966670+02:00 80000096-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:41:27.0982322+02:00 80000096-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 31.5348ms (791a596a)
2022-04-17T15:41:27.4630513+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:41:27.4651553+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:41:27.5283839+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:41:27.5488195+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:41:29.6533593+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:41:29.7684808+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("19"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:41:29.8207184+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:41:30.0346500+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:41:42.5175364+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:41:42.5294337+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 14976.3451ms (afa2e885)
2022-04-17T15:41:42.5295115+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:41:42.5315653+02:00 80000097-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 15068.5072ms (791a596a)
2022-04-17T15:42:26.9753255+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:42:27.4546408+02:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:42:27.4900634+02:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:42:27.4956674+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:42:27.4972537+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T15:42:27.5300418+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T15:42:27.5561933+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T15:42:27.5644587+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T15:42:27.5775432+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T15:42:27.7829724+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T15:42:27.8191331+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T15:42:28.0001637+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T15:42:28.0003726+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T15:42:28.0003977+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T15:42:28.0219565+02:00 80000004-0009-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T15:42:28.2272290+02:00 8000001d-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T15:42:28.2280632+02:00 80000004-0009-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 208.5176ms (791a596a)
2022-04-17T15:42:28.2397185+02:00 8000001d-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 11.7575ms (791a596a)
2022-04-17T15:42:28.3784765+02:00 8000004c-0008-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T15:42:28.4730424+02:00 8000004c-0008-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.4766ms (791a596a)
2022-04-17T15:42:31.9798744+02:00 8000001f-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:42:32.0112660+02:00 8000001f-0002-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:42:32.0134300+02:00 8000001f-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 33.4745ms (791a596a)
2022-04-17T15:42:32.3792621+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:42:32.3811616+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:42:32.4372898+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:42:32.4558756+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:42:48.3140767+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:42:48.4142733+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:43:10.0408290+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:44:20.4001509+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:44:49.5794268+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:44:49.5965406+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 137134.2455ms (afa2e885)
2022-04-17T15:44:49.5966213+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:44:49.5988003+02:00 80000020-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 137219.5406ms (791a596a)
2022-04-17T15:45:03.1171020+02:00 80000021-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:45:03.1174349+02:00 80000021-0002-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:45:03.1177180+02:00 80000021-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.6546ms (791a596a)
2022-04-17T15:45:03.4802318+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:45:03.4804003+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:45:03.4808793+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:45:03.4810954+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:45:04.4215808+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:45:04.4264232+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:45:04.4284786+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:45:04.4310551+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:45:05.2302803+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:45:05.2309033+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 1749.6991ms (afa2e885)
2022-04-17T15:45:05.2310091+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:45:05.2316320+02:00 80000022-0002-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 1751.3394ms (791a596a)
2022-04-17T15:46:05.3485590+02:00 80000021-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T15:46:05.3494816+02:00 80000021-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:46:05.3502110+02:00 80000021-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 1.6293ms (791a596a)
2022-04-17T15:46:06.9302138+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryYyH10BnRalK33d4O 5130358 (ca22a1cb)
2022-04-17T15:46:06.9303719+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:46:06.9779353+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:46:06.9820783+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:46:06.9826607+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:46:06.9859676+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:46:16.2267999+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:46:16.2395136+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:46:16.3847440+02:00 80000022-0003-ff00-b63f-84710c7967bb [ERR] Zdjęcie nie zawiera danych GPS. (b10d61ad)
2022-04-17T15:46:16.4139143+02:00 80000022-0003-ff00-b63f-84710c7967bb [WRN] Otrzymane zdjęcie nie zawiera danych GPS! Property cannot be found. (d5796a04)
2022-04-17T15:46:16.4156850+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T15:46:16.4171178+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 9431.0719ms (afa2e885)
2022-04-17T15:46:16.4174043+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:46:16.4193023+02:00 80000022-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryYyH10BnRalK33d4O 5130358 - 200 - application/json;+charset=utf-8 9489.0775ms (791a596a)
2022-04-17T15:47:01.4198984+02:00 80000023-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T15:47:01.4200763+02:00 80000023-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:47:01.4203423+02:00 80000023-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.4839ms (791a596a)
2022-04-17T15:47:01.7880968+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarySuxGPrgiBpovYTUu 5018133 (ca22a1cb)
2022-04-17T15:47:01.7882964+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:47:01.7887193+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:47:01.7889935+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:47:01.7890381+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:47:01.7891296+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:47:04.4250598+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:47:04.4264124+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:47:04.5447011+02:00 80000024-0003-ff00-b63f-84710c7967bb [ERR] Zdjęcie nie zawiera danych GPS. (b10d61ad)
2022-04-17T15:47:04.5813461+02:00 80000024-0003-ff00-b63f-84710c7967bb [WRN] Otrzymane zdjęcie nie zawiera danych GPS! Property cannot be found. (d5796a04)
2022-04-17T15:47:04.5825222+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T15:47:04.5828604+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 2793.6953ms (afa2e885)
2022-04-17T15:47:04.5828942+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:47:04.5839511+02:00 80000024-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundarySuxGPrgiBpovYTUu 5018133 - 200 - application/json;+charset=utf-8 2795.8975ms (791a596a)
2022-04-17T15:48:15.2069360+02:00 80000026-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T15:48:15.2070511+02:00 80000026-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:48:15.2099574+02:00 80000026-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.3861ms (791a596a)
2022-04-17T15:48:15.7510639+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundary3fPhjxaTngZAHg5G 3556159 (ca22a1cb)
2022-04-17T15:48:15.7512147+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:48:15.7514938+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:48:15.7522534+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:48:15.7525304+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:48:15.7526667+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:48:18.5607718+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:48:18.5625589+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:48:18.8621903+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T15:48:18.8773694+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\d896a5ee-c671-4c81-abba-625976dba7f9IMG20220402192438.jpg zostało zapisane w bazie danych (d5757235)
2022-04-17T15:48:18.8775059+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T15:48:18.8778392+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 3125.1066ms (afa2e885)
2022-04-17T15:48:18.8778837+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:48:18.8788700+02:00 80000027-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundary3fPhjxaTngZAHg5G 3556159 - 200 - application/json;+charset=utf-8 3127.7750ms (791a596a)
2022-04-17T15:49:14.7821629+02:00 80000028-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:14.7823279+02:00 80000028-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:14.7828278+02:00 80000028-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.5200ms (791a596a)
2022-04-17T15:49:15.1607426+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:15.1611424+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:15.1613988+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:49:15.1615070+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:49:15.1615501+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:49:15.1630953+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:49:15.1645098+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:49:15.1661357+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:49:15.1843538+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:49:15.1876605+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:49:15.2019877+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 38.6827ms (afa2e885)
2022-04-17T15:49:15.2021703+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:49:15.2030757+02:00 80000029-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 42.2918ms (791a596a)
2022-04-17T15:49:41.3948479+02:00 8000002a-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:41.3949869+02:00 8000002a-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:41.3953813+02:00 8000002a-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.4840ms (791a596a)
2022-04-17T15:49:41.7555586+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:41.7556818+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:41.7558829+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:49:41.7559825+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:49:41.7560181+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:49:41.7561133+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:49:41.7569427+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:49:41.7599789+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:49:41.7607051+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:49:41.7620353+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:49:41.7725265+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 16.3295ms (afa2e885)
2022-04-17T15:49:41.7725819+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:49:41.7732299+02:00 8000002b-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 17.5615ms (791a596a)
2022-04-17T15:49:46.1040633+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:46.1042322+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:46.1044394+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:49:46.1045152+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:49:46.1045412+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:49:46.1046681+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:49:46.1059325+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:49:46.1067920+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:49:46.1080833+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:49:46.1107882+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:49:46.1155822+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 10.7461ms (afa2e885)
2022-04-17T15:49:46.1159263+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:49:46.1165328+02:00 8000002c-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 12.4100ms (791a596a)
2022-04-17T15:49:47.9698135+02:00 8000002d-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:47.9700145+02:00 8000002d-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:47.9703500+02:00 8000002d-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.5550ms (791a596a)
2022-04-17T15:49:48.3320446+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:49:48.3322653+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:48.3326033+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:49:48.3327158+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:49:48.3327515+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:49:48.3329172+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:49:48.3333308+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:49:48.3355122+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:49:48.3374016+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:49:48.3387243+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:49:48.3426750+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 9.6791ms (afa2e885)
2022-04-17T15:49:48.3427472+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:49:48.3432743+02:00 8000002e-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 11.2206ms (791a596a)
2022-04-17T15:49:56.4767061+02:00 8000002f-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T15:49:56.4768430+02:00 8000002f-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:56.4771925+02:00 8000002f-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.5002ms (791a596a)
2022-04-17T15:49:57.0257232+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryOdM2wFB1khpxotPs 4617973 (ca22a1cb)
2022-04-17T15:49:57.0258495+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:49:57.0260166+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:49:57.0260810+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:49:57.0261141+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:49:57.0262040+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:50:00.7773679+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:50:00.7779525+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:50:01.0349870+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T15:50:01.0375516+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\03b2210e-98f6-4880-a99b-3c4baab0c5b3IMG20220402161427.jpg zostało zapisane w bazie danych (f687c3e3)
2022-04-17T15:50:01.0377716+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T15:50:01.0382523+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 4011.929ms (afa2e885)
2022-04-17T15:50:01.0383824+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:50:01.0405485+02:00 80000030-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryOdM2wFB1khpxotPs 4617973 - 200 - application/json;+charset=utf-8 4014.7765ms (791a596a)
2022-04-17T15:50:09.2794986+02:00 80000031-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:50:09.2796484+02:00 80000031-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:09.2800166+02:00 80000031-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.5257ms (791a596a)
2022-04-17T15:50:09.6431516+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:50:09.6433106+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:09.6435738+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:50:09.6436667+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:50:09.6436965+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:50:09.6438005+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:50:09.6442156+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:50:09.6449917+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:50:09.6459672+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:50:09.6483876+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:50:09.6545219+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 10.6225ms (afa2e885)
2022-04-17T15:50:09.6546918+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:50:09.6556335+02:00 80000032-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 12.2729ms (791a596a)
2022-04-17T15:50:22.7959743+02:00 80000033-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T15:50:22.7960910+02:00 80000033-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:22.7963451+02:00 80000033-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.3980ms (791a596a)
2022-04-17T15:50:23.1698929+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryLwqtqqc3aSlWVxvc 5156603 (ca22a1cb)
2022-04-17T15:50:23.1700296+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:23.1702282+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:50:23.1703016+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:50:23.1703214+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:50:23.1703957+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:50:26.5042228+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:50:26.5048144+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:50:26.7535071+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T15:50:26.7542733+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\70d2c868-afe0-498c-8bf0-40ce39e77f25IMG20220402185457.jpg zostało zapisane w bazie danych (b625f77a)
2022-04-17T15:50:26.7544640+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T15:50:26.7549809+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 3584.5139ms (afa2e885)
2022-04-17T15:50:26.7550395+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:50:26.7563203+02:00 80000034-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryLwqtqqc3aSlWVxvc 5156603 - 200 - application/json;+charset=utf-8 3586.3987ms (791a596a)
2022-04-17T15:50:34.2202106+02:00 80000035-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:50:34.2202945+02:00 80000035-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:34.2204657+02:00 80000035-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.2682ms (791a596a)
2022-04-17T15:50:34.5820788+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:50:34.5822356+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:50:34.5824622+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:50:34.5825774+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:50:34.5826302+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:50:34.5827329+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:50:34.5831613+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:50:34.5840327+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:50:34.5851506+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:50:34.5878367+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:50:34.5920857+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 9.2598ms (afa2e885)
2022-04-17T15:50:34.5921670+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:50:34.5927444+02:00 80000036-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 10.6639ms (791a596a)
2022-04-17T15:51:04.7785528+02:00 80000037-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T15:51:04.7786504+02:00 80000037-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:51:04.7788541+02:00 80000037-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.3171ms (791a596a)
2022-04-17T15:51:05.1413764+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T15:51:05.1414725+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:51:05.1415346+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:51:05.1416172+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:51:06.4764927+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:51:06.4784393+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T15:51:06.4802798+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T15:51:06.4827195+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T15:51:08.2801939+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T15:51:08.2806599+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 3138.9718ms (afa2e885)
2022-04-17T15:51:08.2808873+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:51:08.2819444+02:00 80000038-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 3140.5120ms (791a596a)
2022-04-17T15:51:12.1011015+02:00 80000039-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:51:12.1012561+02:00 80000039-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:51:12.1019015+02:00 80000039-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.8287ms (791a596a)
2022-04-17T15:51:12.4699390+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T15:51:12.4700830+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T15:51:12.4702570+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T15:51:12.4703205+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T15:51:12.4703397+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T15:51:12.4704217+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T15:51:12.4707020+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T15:51:12.4725811+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T15:51:12.4741280+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T15:51:12.4759544+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T15:51:12.4802853+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 9.7418ms (afa2e885)
2022-04-17T15:51:12.4811388+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T15:51:12.4836868+02:00 8000003a-000a-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 13.7320ms (791a596a)
2022-04-17T16:02:38.0772474+02:00  [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:02:38.3816072+02:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T16:02:38.4076285+02:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T16:02:38.4123296+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T16:02:38.4143924+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2022-04-17T16:02:38.4417816+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2022-04-17T16:02:38.4662236+02:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2022-04-17T16:02:38.4738020+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2022-04-17T16:02:38.4835393+02:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2022-04-17T16:02:38.6787107+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2022-04-17T16:02:38.7141762+02:00  [INF] User profile is available. Using '"C:\Users\kasia\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2022-04-17T16:02:38.9126968+02:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2022-04-17T16:02:38.9130009+02:00  [INF] Hosting environment: "Development" (c3307c92)
2022-04-17T16:02:38.9130326+02:00  [INF] Content root path: "D:\PrazaInz\FotoGeoLocationWebApplication" (b5d60022)
2022-04-17T16:02:38.9359179+02:00 80000052-0008-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/index.html - - (ca22a1cb)
2022-04-17T16:02:39.1480187+02:00 8000009a-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2022-04-17T16:02:39.1485472+02:00 80000052-0008-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/index.html - - - 200 - text/html;charset=utf-8 214.4701ms (791a596a)
2022-04-17T16:02:39.1631860+02:00 8000009a-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/_framework/aspnetcore-browser-refresh.js - - - 200 12016 application/javascript;+charset=utf-8 14.8153ms (791a596a)
2022-04-17T16:02:39.2848947+02:00 80000029-0006-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - (ca22a1cb)
2022-04-17T16:02:39.5083051+02:00 80000029-0006-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44304/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 223.2833ms (791a596a)
2022-04-17T16:02:44.5849802+02:00 8000009e-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:02:44.6154818+02:00 8000009e-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:02:44.6175467+02:00 8000009e-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 32.4675ms (791a596a)
2022-04-17T16:02:44.9880300+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:02:44.9909027+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:02:45.1650651+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-17T16:02:45.1680860+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'." (48071232)
2022-04-17T16:02:45.1724885+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user." (d3883ae7)
2022-04-17T16:02:45.1807663+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] AuthenticationScheme: "Bearer" was challenged. (d45f1f38)
2022-04-17T16:02:45.1821990+02:00 8000009f-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 401 - - 194.1625ms (791a596a)
2022-04-17T16:02:51.9477812+02:00 800000a0-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T16:02:51.9490473+02:00 800000a0-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:02:51.9494867+02:00 800000a0-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 1.7570ms (791a596a)
2022-04-17T16:02:52.3203456+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T16:02:52.3211413+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:02:52.3227402+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:02:52.3419634+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:02:54.6877880+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:02:54.7766561+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T16:02:54.8232166+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T16:02:54.9351668+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T16:02:58.2276217+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T16:02:58.2414688+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 5893.7875ms (afa2e885)
2022-04-17T16:02:58.2416275+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:02:58.2434095+02:00 800000a1-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 5923.0647ms (791a596a)
2022-04-17T16:03:03.7949716+02:00 800000a2-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:03:03.7951436+02:00 800000a2-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:03.7954835+02:00 800000a2-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.5156ms (791a596a)
2022-04-17T16:03:04.1690058+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:03:04.1692164+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:04.1794643+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T16:03:04.1808965+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T16:03:04.1810475+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:03:04.1826151+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:03:04.2130239+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:03:04.2231153+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T16:03:04.2371372+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T16:03:04.2491038+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T16:03:04.2607906+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 78.0111ms (afa2e885)
2022-04-17T16:03:04.2612116+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:03:04.2633510+02:00 800000a3-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 94.3622ms (791a596a)
2022-04-17T16:03:44.0657252+02:00 800000a4-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - (ca22a1cb)
2022-04-17T16:03:44.0661133+02:00 800000a4-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:44.0664284+02:00 800000a4-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/UploadPictures - - - 204 - - 0.7168ms (791a596a)
2022-04-17T16:03:44.4507819+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryFDxqz2BiQGYtwuz7 4338530 (ca22a1cb)
2022-04-17T16:03:44.4509828+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:44.4512865+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T16:03:44.4521665+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T16:03:44.4524127+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:03:44.4540782+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Post\", controller = \"UploadPictures\"}". Executing controller action with signature "FotoGeoLocationWebApplication.GpsData.UploadPictureResponse Post(Microsoft.AspNetCore.Http.IFormFile)" on controller "FotoGeoLocationWebApplication.Controllers.UploadPicturesController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:03:48.6684545+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:03:48.6720741+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T16:03:49.0107558+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Picture] ([Latitude], [Longitude], [Path], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Picture]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2022-04-17T16:03:49.0291853+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Zdjęcie D:\PrazaInz\FotoGeoLocationWebApplication\UploadedPictures\d44b5364-4da4-41b5-b3cc-e959ad0e76bcIMG20220402155315.jpg zostało zapisane w bazie danych (e06dfd3c)
2022-04-17T16:03:49.0298246+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"FotoGeoLocationWebApplication.GpsData.UploadPictureResponse"'. (605b4265)
2022-04-17T16:03:49.0310158+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)" in 4576.867ms (afa2e885)
2022-04-17T16:03:49.0310749+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.UploadPicturesController.Post (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:03:49.0330914+02:00 800000a5-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/UploadPictures multipart/form-data;+boundary=----WebKitFormBoundaryFDxqz2BiQGYtwuz7 4338530 - 200 - application/json;+charset=utf-8 4582.2131ms (791a596a)
2022-04-17T16:03:53.2231177+02:00 800000a6-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:03:53.2233424+02:00 800000a6-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:53.2240155+02:00 800000a6-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.8329ms (791a596a)
2022-04-17T16:03:53.5956958+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:03:53.5959275+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:03:53.5962503+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T16:03:53.5963771+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T16:03:53.5964438+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:03:53.5967001+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:03:53.5974564+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:03:53.5987976+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T16:03:53.6016230+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T16:03:53.6049385+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T16:03:53.6125503+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 15.663ms (afa2e885)
2022-04-17T16:03:53.6126908+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:03:53.6135973+02:00 800000a7-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 17.8534ms (791a596a)
2022-04-17T16:04:06.1047317+02:00 800000a8-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - (ca22a1cb)
2022-04-17T16:04:06.1048553+02:00 800000a8-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:04:06.1052164+02:00 800000a8-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/api/Login - - - 204 - - 0.4966ms (791a596a)
2022-04-17T16:04:06.4751147+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 (ca22a1cb)
2022-04-17T16:04:06.4753109+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:04:06.4754112+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:04:06.4754976+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Login\"}". Executing controller action with signature "WebApplicationTurystyka.Models.AuthorizedUserDto Login(FotoGeoLocationWebApplication.Models.LoginDto)" on controller "FotoGeoLocationWebApplication.Controllers.LoginController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:04:12.7926642+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:04:12.7943620+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__login_Login_0='?' (Size = 4000), @__hashed_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[Enabled], [u].[Password], [u].[UserName]
FROM [User] AS [u]
WHERE ([u].[UserName] = @__login_Login_0) AND ([u].[Password] = @__hashed_1)" (0723d8ff)
2022-04-17T16:04:12.7959034+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userLogin_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE [s].[UserId] = @__userLogin_Id_0" (0723d8ff)
2022-04-17T16:04:12.7981770+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Sessions] SET [ExpiresAt] = @p0, [Token] = @p1, [UserId] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2022-04-17T16:04:13.5126847+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"WebApplicationTurystyka.Models.AuthorizedUserDto"'. (605b4265)
2022-04-17T16:04:13.5133094+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)" in 7037.7418ms (afa2e885)
2022-04-17T16:04:13.5133853+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.LoginController.Login (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:04:13.5138407+02:00 800000a9-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 POST https://localhost:44304/api/Login application/json 36 - 200 - application/json;+charset=utf-8 7038.7091ms (791a596a)
2022-04-17T16:04:17.2335078+02:00 800000aa-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:04:17.2335979+02:00 800000aa-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:04:17.2337554+02:00 800000aa-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 OPTIONS https://localhost:44304/PictureProvider - - - 204 - - 0.2534ms (791a596a)
2022-04-17T16:04:17.6089950+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 GET https://localhost:44304/PictureProvider - - (ca22a1cb)
2022-04-17T16:04:17.6093362+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2022-04-17T16:04:17.6096996+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Successfully validated the token. (60169667)
2022-04-17T16:04:17.6098538+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Authorization was successful. (0d575a54)
2022-04-17T16:04:17.6098946+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (500cc934)
2022-04-17T16:04:17.6100138+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetPictures\", controller = \"PictureProvider\"}". Executing controller action with signature "System.Collections.Generic.IEnumerable`1[FotoGeoLocationWebApplication.Models.PictureDto] GetPictures()" on controller "FotoGeoLocationWebApplication.Controllers.PictureProviderController" ("FotoGeoLocationWebApplication"). (122b2fdf)
2022-04-17T16:04:17.6121894+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.15" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2022-04-17T16:04:17.6149604+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__token_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [s].[Id], [s].[ExpiresAt], [s].[Token], [s].[UserId]
FROM [Sessions] AS [s]
WHERE ([s].[Token] = @__token_0) AND ([s].[ExpiresAt] > GETDATE())" (0723d8ff)
2022-04-17T16:04:17.6171446+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Id], [p].[Latitude], [p].[Longitude], [p].[Path], [p].[UserId]
FROM [Picture] AS [p]
WHERE [p].[UserId] = @__userId_0" (0723d8ff)
2022-04-17T16:04:17.6202927+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executing "ObjectResult", writing value of type '"System.Collections.Generic.List`1[[FotoGeoLocationWebApplication.Models.PictureDto, FotoGeoLocationWebApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2022-04-17T16:04:17.6263673+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executed action "FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)" in 16.2407ms (afa2e885)
2022-04-17T16:04:17.6264980+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"FotoGeoLocationWebApplication.Controllers.PictureProviderController.GetPictures (FotoGeoLocationWebApplication)"' (99874f2b)
2022-04-17T16:04:17.6279017+02:00 800000ab-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/1.1 GET https://localhost:44304/PictureProvider - - - 200 - application/json;+charset=utf-8 18.9542ms (791a596a)
